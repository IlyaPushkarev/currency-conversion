(this.webpackJsonpcurrency_conversion=this.webpackJsonpcurrency_conversion||[]).push([[0],{10:function(e,t,r){e.exports={"rate-wrapper":"Rate_rate-wrapper__2yAcN","rate-header":"Rate_rate-header__29utW","rate-body":"Rate_rate-body__2cy1J","rate-body__item":"Rate_rate-body__item__2QoeM","rate-body__item-contraction":"Rate_rate-body__item-contraction__1_6_d","rate-body__item-name":"Rate_rate-body__item-name__3GZFe","rate-body__item-value":"Rate_rate-body__item-value__3ZC0R","rate-body__item-addBtn":"Rate_rate-body__item-addBtn__1UEr2","last-elect-currency":"Rate_last-elect-currency__3Ltpj"}},14:function(e,t,r){e.exports={"hamburger-button":"Hamburget_hamburger-button__2e2Ye","hamburger-item":"Hamburget_hamburger-item__7j6_r"}},26:function(e,t,r){e.exports={"header-wrapper":"Header_header-wrapper__2McdF","base-currency-wrapper":"Header_base-currency-wrapper__2lzql","base-currency-wrapper__name":"Header_base-currency-wrapper__name__Taok5","base-currency-list-box":"Header_base-currency-list-box__1-ldp",navigation:"Header_navigation__3cIwT"}},29:function(e,t,r){e.exports={appWrapper:"App_appWrapper__evY9x",appWrapper__content:"App_appWrapper__content__3Bjjg"}},3:function(e,t,r){e.exports={"converter-wrapper":"Converter_converter-wrapper__DRnL6","converter-header":"Converter_converter-header__tp67-","converter-body":"Converter_converter-body__1qA2q","converter-form-wrapper":"Converter_converter-form-wrapper__3mL8X","converter-form":"Converter_converter-form__Gpkdj","converter-form__input":"Converter_converter-form__input__JcFNv","converter-form__select-wrapper":"Converter_converter-form__select-wrapper__pS66E","converter-form__select":"Converter_converter-form__select__3OgVN","converter-form__submitBtn":"Converter_converter-form__submitBtn__1ajYH","converter-result-wrapper":"Converter_converter-result-wrapper__23106","converter-result__preloader":"Converter_converter-result__preloader__2yCYt","converter-result__title":"Converter_converter-result__title__2gsoU","converter-result__valueFrom":"Converter_converter-result__valueFrom__2rn-r","converter-result__fromCurrency":"Converter_converter-result__fromCurrency__1EDQp","converter-result-valueTo":"Converter_converter-result-valueTo__2tpi3","converter-result__toCurrency":"Converter_converter-result__toCurrency__1TFnX"}},49:function(e,t,r){e.exports=r(79)},5:function(e,t,r){e.exports={"menu-wrapper":"Menu_menu-wrapper__HUTFf",navbar:"Menu_navbar__22PzV",navigation:"Menu_navigation__1LU2h",navigation__item:"Menu_navigation__item__1Y6Fw",active_tab:"Menu_active_tab__BArGn","display-flex":"Menu_display-flex__PEEPL","display-none":"Menu_display-none__xqtVD"}},59:function(e,t,r){},79:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(27),o=r.n(c),u=r(12),s=(r(58),r(59),r(29)),i=r.n(s),l=r(13),_=r(2),m=r(16),p=r(17),v=r(19),y=r(18),d=r(10),E=r.n(d),b=function(e){return e.isLoading?n.a.createElement("div",null,'"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445, \u043d\u0435 \u043c\u0435\u0448\u0430\u0439 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u0443"'):n.a.createElement("div",{className:[E.a["rate-wrapper"]].join(" ")},n.a.createElement("div",{className:[E.a["rate-header"]].join(" ")},n.a.createElement("h1",null,"Rate"),n.a.createElement("h2",null,"(for 1 ",e.baseCurrency,")")),n.a.createElement("div",{className:[E.a["rate-body"]].join(" ")},e.currencyData.length?e.currencyData.map((function(t,r){var a;return a=r===e.amountElectCurrencies-1?[E.a["rate-body__item"],E.a["last-elect-currency"]].join(" "):[E.a["rate-body__item"]].join(" "),n.a.createElement("div",{className:a,key:t.id,id:""+t.id,onClick:function(t){!function(t){if("addElectCurrencyBtn"===t.target.id){var r=e.currencyData.filter((function(e){return+t.currentTarget.id===+e.id&&(e.isElected=!0,e)}));e.setElectCurrency(r[0])}}(t)}},n.a.createElement("span",{className:[E.a["rate-body__item-contraction"]].join(" ")},t.contraction),n.a.createElement("span",{className:[E.a["rate-body__item-name"]].join(" ")},t.fullName),n.a.createElement("span",{className:[E.a["rate-body__item-value"]].join(" ")},t.rate),t.isElected?n.a.createElement("span",{className:[E.a["rate-body__item-addBtn"]].join(" ")},"\\/"):n.a.createElement("span",{className:[E.a["rate-body__item-addBtn"]].join(" "),id:"addElectCurrencyBtn"},"+"))})):n.a.createElement("div",null,"List of currencies is empty")))},f=r(25),C=r(11),N=r(21),g=r.n(N),h=r(47),j=r.n(h).a.create({baseURL:"https://api.exchangeratesapi.io/"}),T={getLatestCurrency:function(e){return e||(e="USD"),j.get("latest?base=".concat(e))},getCurrencyNames:function(){return j.get("https://openexchangerates.org/api/currencies.json")},convert:function(e,t,r){return j.get("latest?base=".concat(t,"&symbols=").concat(r))}},R={isLoading:!1,isLoadedRate:null,rates:{},isLoadedCurrencyNames:null,currencyNames:{},baseCurrency:"USD",electCurrency:[],isConvert:null,historyConvert:[]},S=function(e){return{type:"SET_IS_LOADING",payload:{isLoading:e}}},O=function(e){return function(t){t(function(e){return{type:"SET_BASE_CURRENCY",payload:{baseCurrency:e}}}(e)),t(L(e))}},L=function(e){return function(t){return t(S(!0)),T.getLatestCurrency(e).then((function(e){t(S(!1)),t({type:"GET_LATEST_RATE_SUCCESS",payload:{isLoadedRate:!0}}),t({type:"SET_LATEST_RATE",payload:{rates:e.data.rates}})})).catch((function(e){t(S(!1)),t({type:"GET_LATEST_RATE_FAILURE",payload:{isLoadedRate:!1}})}))}},w=function(){return function(e){return e(S(!0)),T.getCurrencyNames().then((function(t){e(S(!1)),e({type:"GET_CURRENCY_NAMES_SUCCESS",payload:{isLoadedCurrencyNames:!0}}),e({type:"SET_CURRENCY_NAMES",payload:{currencyNames:t.data}})})).catch((function(t){e(S(!1)),e({type:"GET_CURRENCY_NAMES_FAILURE",payload:{isLoadedCurrencyNames:!1}})}))}},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_LATEST_RATE_SUCCESS":case"GET_LATEST_RATE_FAILURE":case"GET_CURRENCY_NAMES_SUCCESS":case"GET_CURRENCY_NAMES_FAILURE":case"SET_BASE_CURRENCY":case"GET_CONVERT_SUCCESS":case"GET_CONVERT_FAILURE":case"SET_IS_LOADING":return Object(C.a)(Object(C.a)({},e),t.payload);case"SET_LATEST_RATE":return g.a.isEqual(e.rates,t.payload.rates)?e:Object(C.a)(Object(C.a)({},e),{},{rates:t.payload.rates});case"SET_CURRENCY_NAMES":return g.a.isEqual(e.currencyNames,t.payload.currencyNames)?e:Object(C.a)(Object(C.a)({},e),{},{currencyNames:t.payload.currencyNames});case"SET_ELECT_CURRENCY":return Object(C.a)(Object(C.a)({},e),{},{electCurrency:[].concat(Object(f.a)(e.electCurrency),[t.payload.electCurrency])});case"SET_CONVERT_RESULT":return Object(C.a)(Object(C.a)({},e),{},{historyConvert:[].concat(Object(f.a)(e.historyConvert),[t.payload.result])});default:return e}},A=r(34),F=Object(A.a)([function(e){return e.conversion.rates},function(e){return e.conversion.currencyNames},function(e){return e.conversion.electCurrency}],(function(e,t,r){var a,n=[],c={},o=1;for(var u in e)c.id=o,c.contraction=u,c.rate=e[u].toFixed(2),c.fullName=t[u],c.isElected=!1,n.push(c),c={},o++;var s=g.a.intersectionBy(n,r,"id");return s.forEach((function(e){return e.isElected=!0})),(a=n=g.a.differenceBy(n,r,"id")).unshift.apply(a,Object(f.a)(s)),n})),x=(Object(A.a)([function(e){return e.conversion.historyConvert}],(function(e){return e})),function(e){Object(v.a)(r,e);var t=Object(y.a)(r);function r(){return Object(m.a)(this,r),t.apply(this,arguments)}return Object(p.a)(r,[{key:"componentDidMount",value:function(){this.props.currencyData.length||(this.props.getRate(this.props.baseCurrency),this.props.getCurrencyNames())}},{key:"render",value:function(){return n.a.createElement(b,this.props)}}]),r}(n.a.Component)),B=Object(u.b)((function(e){return{currencyData:F(e),baseCurrency:e.conversion.baseCurrency,isLoading:e.conversion.isLoading,amountElectCurrencies:e.conversion.electCurrency.length}}),(function(e){return{getRate:function(t){e(L(t))},getCurrencyNames:function(){e(w())},changeBaseCurrency:function(t){e(O(t))},setElectCurrency:function(t){e(function(e){return{type:"SET_ELECT_CURRENCY",payload:{electCurrency:e}}}(t))}}}))(x),D=r(22),M=r(3),G=r.n(M),k=function(e){var t=Object(a.useState)(!1),r=Object(D.a)(t,2),c=r[0],o=r[1],u=Object(a.useState)(e.baseCurrency),s=Object(D.a)(u,2),i=s[0],l=s[1],_=Object(a.useState)(!1),m=Object(D.a)(_,2),p=m[0],v=m[1];Object(a.useEffect)((function(){l(e.baseCurrency),o(!1)}),[e.baseCurrency]);return n.a.createElement("div",{className:[G.a["converter-wrapper"]].join(" ")},n.a.createElement("div",{className:[G.a["converter-header"]].join(" ")},n.a.createElement("h1",null,"Converter")),n.a.createElement("div",{className:[G.a["converter-body"]].join(" ")},n.a.createElement("div",{className:[G.a["converter-form-wrapper"]].join(" ")},n.a.createElement("form",{className:[G.a["converter-form"]].join(" "),id:"convertForm",onSubmit:function(t){return function(t){t.preventDefault(),t.currentTarget.elements.currencyFrom.value!==t.currentTarget.elements.currencyTo.value?t.currentTarget.elements.inputValue.value?(o(!0),e.convertCurrency(+t.currentTarget.elements.inputValue.value,t.currentTarget.elements.currencyFrom.value,t.currentTarget.elements.currencyTo.value),t.currentTarget.elements.inputValue.value=""):alert("Insert amount of currency"):alert("Choose another currency")}(t)}},n.a.createElement("input",{className:[G.a["converter-form__input"]].join(" "),onChange:function(e){e.target.value&&v(!0)},onFocus:function(){return o(!1)},name:"inputValue",type:"number",id:"fromInput",min:1,autoFocus:!0}),n.a.createElement("div",{className:[G.a["converter-form__select-wrapper"]].join(" ")},n.a.createElement("label",{htmlFor:"fromSelect"},"From"),n.a.createElement("select",{className:[G.a["converter-form__select"]].join(" "),name:"currencyFrom",id:"fromSelect",value:i,onChange:function(e){return l(e.target.value)}},e.currencyData.map((function(e){return n.a.createElement("option",{key:e.id,value:e.contraction},e.fullName)})))),n.a.createElement("div",{className:[G.a["converter-form__select-wrapper"]].join(" ")},n.a.createElement("label",{htmlFor:"currencyTo"},"To"),n.a.createElement("select",{className:[G.a["converter-form__select"]].join(" "),name:"currencyTo",id:"toSelect"},e.currencyData.map((function(e){return n.a.createElement("option",{key:e.id,value:e.contraction},e.fullName)})))),n.a.createElement("button",{className:[G.a["converter-form__submitBtn"]].join(" "),type:"submit",disabled:!p},"convert"))),n.a.createElement("div",{className:[G.a["converter-result-wrapper"]].join(" ")},e.isLoading?n.a.createElement("div",{className:[G.a["converter-result__preloader"]].join(" ")},"\u041a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440 \u0441\u0447\u0438\u0442\u0430\u0435\u0442 \u0434\u0435\u043d\u044c\u0433\u0438"):n.a.createElement(n.a.Fragment,null,p&&c&&e.converts.length>0&&n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:[G.a["converter-result__title"]].join(" ")},"Result:"),n.a.createElement("span",{className:[G.a["converter-result__valueFrom"]].join(" ")},e.converts[e.converts.length-1].val),n.a.createElement("span",{className:[G.a["converter-result__fromCurrency"]].join(" ")},e.converts[e.converts.length-1].from),"=",n.a.createElement("span",{className:[G.a["converter-result-valueTo"]].join(" ")},e.converts[e.converts.length-1].result),n.a.createElement("span",{className:[G.a["converter-result__toCurrency"]].join(" ")},e.converts[e.converts.length-1].to))))))},Y=function(e){Object(v.a)(r,e);var t=Object(y.a)(r);function r(){return Object(m.a)(this,r),t.apply(this,arguments)}return Object(p.a)(r,[{key:"componentDidMount",value:function(){this.props.currencyData.length||(this.props.getRate(this.props.baseCurrency),this.props.getCurrencyNames())}},{key:"render",value:function(){return n.a.createElement(k,this.props)}}]),r}(n.a.Component),I=Object(u.b)((function(e){return{currencyData:F(e),converts:e.conversion.historyConvert,baseCurrency:e.conversion.baseCurrency,isLoading:e.conversion.isLoading}}),(function(e){return{getRate:function(t){e(L(t))},getCurrencyNames:function(){e(w())},convertCurrency:function(t,r,a){e(function(e,t,r){return function(a){return a(S(!0)),T.convert(e,t,r).then((function(n){a(S(!1)),a({type:"GET_CONVERT_SUCCESS",payload:{isConvert:!0}});var c=n.data.rates[r],o={date:n.data.date,val:e,from:t,to:r,result:(e*c).toFixed(2)};a({type:"SET_CONVERT_RESULT",payload:{result:o}})})).catch((function(e){a(S(!1)),a({type:"GET_CONVERT_FAILURE",payload:{isConvert:!1}})}))}}(t,r,a))}}}))(Y),V=r(26),H=r.n(V),W=r(5),q=r.n(W),J=r(14),P=r.n(J),z=function(e){return n.a.createElement("button",{className:[P.a["hamburger-button"],e.open?P.a.open:P.a.close].join(" "),onClick:function(){return e.setOpen(!e.open)}},n.a.createElement("div",{className:P.a["hamburger-item"]}),n.a.createElement("div",{className:P.a["hamburger-item"]}),n.a.createElement("div",{className:P.a["hamburger-item"]}))},Q=function(){var e=Object(a.useState)(!1),t=Object(D.a)(e,2),r=t[0],c=t[1],o=function(){return c(!1)};return n.a.createElement(n.a.Fragment,null,n.a.createElement("nav",{className:[q.a.navigation].join(" ")},n.a.createElement(l.b,{exact:!0,activeClassName:q.a.active_tab,className:q.a.navigation__item,to:"/"},"Rate"),n.a.createElement(l.b,{activeClassName:q.a.active_tab,className:q.a.navigation__item,to:"/converter"},"Converter")),n.a.createElement("div",{className:q.a["menu-wrapper"]},n.a.createElement("nav",{className:[q.a.navbar,r?q.a["display-flex"]:q.a["display-none"]].join(" ")},n.a.createElement(l.b,{exact:!0,activeClassName:q.a.active_tab,className:q.a.navigation__item,to:"/",onClick:function(){return o()}},"Rate"),n.a.createElement(l.b,{activeClassName:q.a.active_tab,className:q.a.navigation__item,to:"/converter",onClick:function(){return o()}},"Converter")),n.a.createElement(z,{open:r,setOpen:c})))},X=function(e){return n.a.createElement("div",{className:[H.a["header-wrapper"]].join(" ")},n.a.createElement(Q,null),n.a.createElement("div",{className:H.a["base-currency-wrapper"]},n.a.createElement("span",{className:H.a["base-currency-wrapper__name"]},"Base currency"),n.a.createElement("div",{className:H.a["base-currency-list-box"]},n.a.createElement("select",{id:"mainCurrency",onChange:function(t){return function(t){t.currentTarget.value&&e.changeBaseCurrency(t.currentTarget.value),t.currentTarget.blur()}(t)},defaultValue:e.baseCurrency},n.a.createElement("option",{value:""},"Select currency"),n.a.createElement("option",{value:"USD"},"\u0414\u043e\u043b\u043b\u0430\u0440"),n.a.createElement("option",{value:"RUB"},"\u0420\u0443\u0431\u043b\u044c"),n.a.createElement("option",{value:"EUR"},"\u0415\u0432\u0440\u043e")))))},Z=function(e){Object(v.a)(r,e);var t=Object(y.a)(r);function r(){return Object(m.a)(this,r),t.apply(this,arguments)}return Object(p.a)(r,[{key:"render",value:function(){return n.a.createElement(X,this.props)}}]),r}(n.a.Component),K=Object(u.b)((function(e){return{baseCurrency:e.conversion.baseCurrency,isLoading:e.conversion.isLoading}}),(function(e){return{changeBaseCurrency:function(t){e(O(t))}}}))(Z);var $=function(){return n.a.createElement(l.a,{basename:"/currency-conversion"},n.a.createElement("div",{className:i.a.appWrapper},n.a.createElement(K,null),n.a.createElement("div",{className:i.a.appWrapper__content},n.a.createElement(_.a,{path:"/converter",render:function(){return n.a.createElement(I,null)}}),n.a.createElement(_.a,{exact:!0,path:"/",render:function(){return n.a.createElement(B,null)}}))))},ee=r(20),te=r(48),re=Object(ee.c)({conversion:U}),ae=Object(ee.d)(re,Object(ee.a)(te.a));window.store=ae;var ne=ae;o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(u.a,{store:ne},n.a.createElement($,null))),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.f90efcb0.chunk.js.map